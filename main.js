(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),e.classList.add("popup_is-animated"),document.addEventListener("keydown",n)}function t(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",n)}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}var r=document.querySelector("#card-template").content;function o(e){e.classList.toggle("card__like-button_is-active")}function c(e){e.remove()}function u(e,t,n,o){var c=r.querySelector(".card").cloneNode(!0);c.querySelector(".card__image").src=e.link,c.querySelector(".card__image").alt=e.name,c.querySelector(".card__title").textContent=e.name,c.querySelector(".card__delete-button").addEventListener("click",(function(){return t(c)}));var u=c.querySelector(".card__like-button");return u.addEventListener("click",(function(){return n(u)})),c.querySelector(".card__image").addEventListener("click",(function(){o(e)})),c}var p=document.querySelectorAll(".popup");p.forEach((function(e){return e.addEventListener("click",(function(n){return function(e,n){e.target.classList.contains("popup_is-opened")&&t(n)}(n,e)}))})),p.forEach((function(e){return e.querySelector(".popup__close").addEventListener("click",(function(){return t(e)}))}));var i=document.querySelector(".popup_type_edit"),a=document.querySelector(".popup_type_new-card"),d=document.querySelector(".popup_type_image"),l=document.querySelector(".places__list"),s=document.forms["edit-profile"],m=s.querySelector(".popup__input_type_name"),_=s.querySelector(".popup__input_type_description");s.addEventListener("submit",(function(e){e.preventDefault(),document.querySelector(".profile__title").textContent=m.value,document.querySelector(".profile__description").textContent=_.value,t(i)})),document.querySelector(".profile__edit-button").addEventListener("click",(function(){m.value=document.querySelector(".profile__title").textContent,_.value=document.querySelector(".profile__description").textContent,e(i)})),document.querySelector(".profile__add-button").addEventListener("click",(function(){return e(a)}));var y=document.forms["new-place"];function v(t){d.querySelector(".popup__caption").textContent=t.name,d.querySelector(".popup__image").src=t.link,d.querySelector(".popup__image").alt=t.name,e(d)}y.addEventListener("submit",(function(e){e.preventDefault();var n=u({name:y.elements["place-name"].value,link:y.elements.link.value},c,o,v);l.prepend(n),t(a),y.elements["place-name"].value="",y.elements.link.value=""})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=u(e,c,o,v);l.prepend(t)}))})();